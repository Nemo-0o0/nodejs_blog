<div class="mt-4">
      <h3>Khoa hoc cua toi</h3>
      <table class="table mt-4">
            <thead>
                  <tr>
                        <th>#</th>
                        <th>Ten Khoa Hoc</th>
                        <th>Trinh do</th>
                        <th colspan="2">Thoi gian tao</th>
                  </tr>
            </thead>
            <tbody>
                  {{#each courses}}
                  <tr>
                        <th scope="row">{{sum @index 1}}</th>
                        <td>{{this.name}}</td>
                        <td>{{this.level}}</td>
                        <td>{{this.createdAt}}</td>
                        <td>
                              <a href="/courses/{{this._id}}/edit" class="btn btn-link">Fix</a>
                              <a
                                    href=""
                                    class="btn btn-link"
                                    data-bs-toggle="modal"
                                    data-bs-target="#delete-course-modal"
                                    data-id="{{this._id}}"
                                    >Delete</a
                              >
                        </td>
                  </tr>
                  {{/each}}
            </tbody>
      </table>
</div>

{{! Confirm Delete Course }}
<div id="delete-course-modal" class="modal" tabindex="-1">
      <div class="modal-dialog">
            <div class="modal-content">
                  <div class="modal-header">
                        <h5 class="modal-title">Delete course</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                        <p>You sure delete course</p>
                  </div>
                  <div class="modal-footer">
                        <button id="btn-delete-course" type="button" class="btn btn-danger">Delete</button>
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                  </div>
            </div>
      </div>
</div>

{{!-- Delete Hiden Form --}}

<form name="delete-course-form" method="POST"></form>

{{!-- Js --}}
<script>
      document.addEventListener('DOMContentLoaded', function() {
           var courseId;
          var deleteForm = document.forms['delete-course-form']

            const deleteCourse = document.getElementById('delete-course-modal')
                if (deleteCourse) {
                  deleteCourse.addEventListener('show.bs.modal', function(event) {
                      const button = event.relatedTarget
                      courseId = button.getAttribute('data-id')
                      {{!-- console.log(courseId) --}}
                  })
              }

            // when delete course btn
            var btnDeleteCourse = document.getElementById('btn-delete-course')
              if (btnDeleteCourse) {
                  btnDeleteCourse.onclick = function () {
                  {{!-- alert(courseId) --}}
                  deleteForm.action = '/courses/' + courseId + '?_method=DELETE';
                  deleteForm.submit();
              }
              } else {
                 console.error('Delete form or courseId is not defined');
              }

      })
</script>
